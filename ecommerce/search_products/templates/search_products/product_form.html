{% extends "base.html" %}  <!-- Extend from base template if you have one -->

{% block title %} Add Product {% endblock %}

{% block content %}
<section class="container mx-auto mt-10">
    <h2 class="text-2xl font-semibold mb-4">Add a New Product</h2>

    <!-- Product Form -->
    <form method="post" enctype="multipart/form-data" class="bg-white p-6 shadow-md rounded-md max-w-lg">
        {% csrf_token %}
        
        <div class="mb-4">
            <label class="block text-gray-700 font-semibold">Product Name</label>
            {{ form.name }}
        </div>

        <div class="mb-4">
            <label class="block text-gray-700 font-semibold">Category</label>
            {{ form.category }}
        </div>

        <div class="mb-4">
            <label class="block text-gray-700 font-semibold">Category</label>
            {{ form.description }}
        </div>

        <div class="mb-4">
            <label class="block text-gray-700 font-semibold">Category</label>
            {{ form.price }}
        </div>

        <div class="mb-4">
            <label class="block text-gray-700 font-semibold">Category</label>
            {{ form.stock }}
        </div>

        <div class="mb-4">
            <label class="block text-gray-700 font-semibold">Upload Image</label>
            {{ form.image }}
        </div>

        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-md">
            Add Product
        </button>
    </form>

    <!-- Display Products -->
    <h2 class="text-2xl font-semibold mt-8 mb-4">Product List</h2>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        {% for product in products %}
        <div class="bg-white p-4 text-center shadow-md rounded-lg">
            {% if product.image %}
                <img src="{{ product.image.url }}" alt="{{ product.name }}" class="w-full h-40 object-cover rounded-md">
            {% else %}
                <p>No image available</p>
            {% endif %}
            <h3 class="text-gray-700 font-semibold">{{ product.name }}</h3>
            <p class="text-gray-500">Category: {{ product.category.name }}</p>
        </div>
        {% endfor %}
    </div>
</section>
{% endblock %}